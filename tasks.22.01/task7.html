<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task7</title>
</head>

<body>
  <script>
    let clientName = prompt("Введите имя клиента");
    let clientSpentToday = +prompt("Сколько клиент потратил сегодня?");
    let clientSpentForAllTime = +prompt("Сколько клиент потратил за все время?");

    if (Number.isNaN(clientSpentToday) || Number.isNaN(clientSpentForAllTime)) {
      alert("Сумма, которую клиент потратил за все время и которую потратил сегодня, должна быть числом! Перезагрузите страницу, чтобы повторить попытку");
    } else {
      let discount = 0;

      if (clientSpentForAllTime >= 100 && clientSpentForAllTime < 300) {
        discount = 10;
      } else if (clientSpentForAllTime >= 300 && clientSpentForAllTime < 500) {
        discount = 20;
      } else if (clientSpentForAllTime >= 500) {
        discount = 30;
      }

      alert(`Вам предоставляется скидка в ${discount}%!`);

      let clientSpentTodayPlusDiscount = clientSpentToday * (1 - discount / 100)
      clientSpentForAllTime += clientSpentTodayPlusDiscount;

      alert(`Спасибо, ${clientName}! К оплате ${clientSpentTodayPlusDiscount}$. За все время в нашем ресторане вы потратили ${clientSpentForAllTime}$.`);
    }
  </script>
</body>

</html>